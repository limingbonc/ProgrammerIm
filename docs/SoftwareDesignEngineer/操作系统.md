# 操作系统

## 考点分布（6-8分）
![考点分布图片](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319153446.png)  
主要集中在存储管理和进程管理

## 进程的概念
> 进程与程序的区别  

![进程的概念](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319153713.png)

> 进程的状态  
>> 三态模型  

![进程的状态](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319160946.png)  

>> 五态模型:引入人为操作  

![五态模型](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319161402.png)  


## 进程的同步和互斥

![同步互斥](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319161602.png)


## 进程的PV操作
注: P 是申请资源 V是释放资源 S是信号量(信号量可正可负)  

![进程的PV操作](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319161758.png)  

![PV操作](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319162212.png)

![单缓冲区PV](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319162548.png)
注:单缓冲区代表一次只能有一个进程执行。  
   S1代表市场中的产品，S2代表生产出来的产品;  
   当消费者消费了产品后，V(S1)就是唤醒生产者生产产品。 V(S2)就是唤醒消费者去消费。  

> PV操作的应用  

![PV操作的应用](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319163152.png)  

解析：A C  
首先PV操作永远是1对1，找到问题的切入点，从最简单的开始，收银员的操作是最简单的，因此其先扫描书 P(S1) 之后，付款;顾客1 拿到数释放 V(S2) 顾客2进行付款操作。  
而顾客进程，第一个顾客来了之后首先是 V(S1)唤醒 收银员，第二个顾客来的只能排队等待P(S2);  

> 前驱图:考察PV操作  

注：图中D为入度，E是出度(三个等待唤醒D)，问题的切入点也在入度处。  
![pv前驱图](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319171845.png)


## 进程死锁
![进程死锁](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319174133.png)  
问题解决: 需要在每个进程需要的资源数-1,且系统还留有一个资源; 5*(4-1) + 1 = 20个资源

> 死锁的必要条件  

![形成死锁的四个必要条件](https://raw.githubusercontent.com/programmerIm/MyPictures/main/images20220319174920.png)